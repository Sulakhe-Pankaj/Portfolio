{% include 'user/navbar.html' %}

<div class="section-padding" style="min-height: 80vh;">
   <div class="container">
      <div class="text-center mb-5">
         <h1 class="section-title mb-3">My <span>Blog</span></h1>
         <p class="text-muted max-w-2xl mx-auto" style="max-width: 600px; margin: 0 auto;">
            Thoughts, learnings, and tutorials on software development, design, and technology.
         </p>
         <div class="mt-4">
            <a href="/blogs" class="btn-premium">Write New Post</a>
         </div>
      </div>

      <div class="row">
         {% for i in blog_data %}
         <div class="col-lg-4 col-md-6 mb-4">
            <div class="blog-card" style="display: flex; flex-direction: column;">
               <div class="position-relative">
                  <img src="/{{ i.blog_image }}" alt="Blog Image" class="blog-img">
                  <div
                     style="position: absolute; top: 15px; left: 15px; background: var(--primary-color); color: white; padding: 5px 15px; border-radius: 20px; font-size: 0.8rem; font-weight: 600;">
                     {{ i.blog_date }}
                  </div>
               </div>

               <div class="blog-content flex-grow-1 d-flex flex-column">
                  <h4 class="text-white mb-3">{{ i.blog_title }}</h4>
                  <p class="text-muted mb-4"
                     style="font-size: 0.95rem; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden;">
                     {{ i.blog_description }}
                  </p>

                  <div class="mt-auto pt-3" style="border-top: 1px solid var(--card-border);">
                     <div class="d-flex justify-content-between align-items-center">
                        <a href="{% url 'update_blog_user' i.id %}" class="btn-outline-premium btn-sm"
                           style="padding: 5px 15px;"><i class="fa fa-pencil mr-1"></i> Edit</a>
                        <a href="{% url 'delete_blog_user' i.id %}" class="text-danger" style="font-size: 0.9rem;"
                           onclick="return confirm('Are you sure you want to delete this post?')"><i
                              class="fa fa-trash"></i></a>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         {% empty %}
         <div class="col-12 py-5 text-center">
            <div class="premium-card d-inline-block p-5" style="border-style: dashed;">
               <i class="fa fa-pencil text-muted mb-3" style="font-size: 3rem;"></i>
               <h4 class="text-white">No Posts Yet</h4>
               <p class="text-muted">Start writing to share your knowledge.</p>
            </div>
         </div>
         {% endfor %}
      </div>
   </div>
</div>

{% include 'user/footer.html' %}